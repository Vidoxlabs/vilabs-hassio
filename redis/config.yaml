---
name: "Redis"
description: "Persistent Redis instance for caching and session state"
version: "1.0.0"
slug: "vi-redis"
url: "https://github.com/Viotic/hassio-vilabs-private/tree/main/redis"
codeowners:
  - "@Viotic"
homeassistant: "2024.12.0"
startup: "services"
boot: "auto"
stage: "stable"
arch:
  - aarch64
  - amd64
ports:
  6379/tcp: 6379
ports_description:
  6379/tcp: "Redis port"
volumes:
  redis_data:
    life_cycle: keep
    description: "Redis persistent storage (RDB snapshots)"
environment:
  REDIS_DATA: /data/redis
  REDIS_LOG: /data/redis.log
options:
  maxmemory: "4gb"
  maxmemory_policy: "allkeys-lru"
  timeout: 0
  tcp_keepalive: 300
  databases: 16
  save_interval: 900
  log_level: "notice"
  appendonly: "yes"
  appendfsync: "everysec"
  requirepass: ""
schema:
  maxmemory:
    type: "string"
    description: "Maximum memory Redis can use (e.g., 1gb, 2gb, 4gb) - set lower than available RAM"
    default: "4gb"
  maxmemory_policy:
    type: "select"
    description: "Eviction policy when maxmemory is reached"
    default: "allkeys-lru"
    options:
      - "noeviction"
      - "allkeys-lru"
      - "allkeys-lfu"
      - "volatile-lru"
      - "volatile-ttl"
      - "random"
  timeout:
    type: "integer"
    description: "Client idle timeout in seconds (0 = disabled)"
    default: 0
    minimum: 0
    maximum: 3600
  tcp_keepalive:
    type: "integer"
    description: "TCP keepalive timeout in seconds"
    default: 300
    minimum: 60
    maximum: 3600
  databases:
    type: "integer"
    description: "Number of Redis databases (0-16)"
    default: 16
    minimum: 1
    maximum: 16
  save_interval:
    type: "integer"
    description: "RDB save interval in seconds"
    default: 900
    minimum: 60
    maximum: 3600
  log_level:
    type: "select"
    description: "Redis log level"
    default: "notice"
    options:
      - "debug"
      - "verbose"
      - "notice"
      - "warning"
  appendonly:
    type: "select"
    description: "Enable AOF (Append-Only File) persistence"
    default: "yes"
    options:
      - "yes"
      - "no"
  appendfsync:
    type: "select"
    description: "AOF fsync policy (always, everysec, no)"
    default: "everysec"
    options:
      - "always"
      - "everysec"
      - "no"
  requirepass:
    type: "string"
    description: "Redis password for authentication (leave empty for no auth in local network)"
    default: ""
image: "ghcr.io/viotic/addon-redis:{version}"
